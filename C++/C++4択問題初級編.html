<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>C++ 4æŠå•é¡Œ åˆç´šç·¨</title>
  <link rel="stylesheet" href="../keep_out/style.css">
  <style>
    .options label.disabled {
      pointer-events: none;
      color: #000;
    }
  </style>
  <audio id="se-correct" src="../keep_out/correct.mp3" preload="auto"></audio>
  <audio id="se-wrong" src="../keep_out/wrong.mp3" preload="auto"></audio>
  <audio id="se-start" src="../keep_out/start.mp3" preload="auto"></audio>
  <audio id="se-end" src="../keep_out/end.mp3" preload="auto"></audio>

</head>
<body>
   <audio id="bgm" src="../keep_out/BGM.mp3" loop></audio>
   <button id="bgm-toggle">â–¶ï¸ BGMã‚’å†ç”Ÿ</button>
   <div class="quiz-container" id="home">
    <h1>C++ 4æŠå•é¡Œ åˆç´šç·¨</h1>
    <p>å…¨15å•ã§ã™ã€‚</p>
    <button onclick="startQuiz()">é–‹å§‹</button>
    <a href="C++.html" class="back-button">å•é¡Œé¸æŠã«æˆ»ã‚‹</a>
  </div>

  <div class="quiz-container" id="quiz" style="display: none;"></div>

  <script>
    const RANKING_KEY = "cpp_select_quiz_ranking_easy";
    const questions = [
      {
        q: "C++ã§ã®ã‚³ãƒ¡ãƒ³ãƒˆã‚¢ã‚¦ãƒˆã¯æ¬¡ã®ã†ã¡ã©ã‚Œã‹",
        options: [
          "//ã‚³ãƒ¡ãƒ³ãƒˆ",
          "%ã‚³ãƒ¡ãƒ³ãƒˆ",
          "#ã‚³ãƒ¡ãƒ³ãƒˆ",
          "\\#ã‚³ãƒ¡ãƒ³ãƒˆ"
        ],
        answer: 0,
        explanation: "//ã¨æ›¸ãã¨ãã®è¡Œã¯ã‚³ãƒ¡ãƒ³ãƒˆã¨ã—ã¦ã¿ãªã•ã‚Œã‚‹ã€‚<br>/*ã¨æ›¸ãã¨ã€*/ã¨æ›¸ãã¾ã§ã‚³ãƒ¡ãƒ³ãƒˆã¨ã¿ãªã•ã‚Œã‚‹ã€‚"
      },

      {
        q: "ä»¥ä¸‹ã®ã†ã¡ã€æ­£ã—ã„å¤‰æ•°ã®å®£è¨€ã¯ã©ã‚Œï¼Ÿ",
        options: [
          "int 123abc;",
          "int x = 5;",
          "string = name;",
          "char a == 'c';"
        ],
        answer: 1,
        explanation: "å¤‰æ•°åã¯æ•°å­—ã‹ã‚‰å§‹ã‚ã‚‰ã‚Œãªã„ã®ã§1ã¤ã‚ã¯ä¸é©ã€‚<br>3ã¤ã‚ã¯ã‚¤ã‚³ãƒ¼ãƒ«ãŒè¦ã‚‰ãªã„ã€‚<br>åˆæœŸåŒ–ã—ãŸã„ãªã‚‰ string name = &quot;Yamadastring&quot;ã®ã‚ˆã†ã«æ›¸ã<br>4ã¤ã‚ã¯ == ã§ãªã = ã‚’ä½¿ã†ã€‚"
      },

      {
        q: `<pre>æ¬¡ã®ã‚³ãƒ¼ãƒ‰ã§ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼ãŒå‡ºã‚‹ç†ç”±ã¯ï¼Ÿ

int main() {
    int class = 5;
    cout << class << endl;
    return 0;
    }
    </pre>`,
  options: [
    "ã‚¯ãƒ©ã‚¹ãŒæœªå®šç¾©ã ã‹ã‚‰",
    "class ã¯äºˆç´„èªã ã‹ã‚‰",
    "int ã«åˆæœŸåŒ–ãŒå¿…è¦ã ã‹ã‚‰",
    "mainé–¢æ•°ã®æˆ»ã‚Šå€¤ãŒ void ã˜ã‚ƒãªã„ã‹ã‚‰"
  ],
  answer: 1,
  explanation: "class ã¯ C++ ã®äºˆç´„èªã€‚å¤‰æ•°åã‚„é–¢æ•°åã«ä½¿ãˆãªã„ã€‚"
},

      {
        q: "using namespace std; ã¯ä½•ã®ãŸã‚ã«ä½¿ã†ï¼Ÿ",
        options: [
          "stdã¨ã„ã†å¤‰æ•°ã‚’ä½¿ã†ãŸã‚",
          "æ¨™æº–çš„ãªæ©Ÿèƒ½ã‚’ç°¡å˜ã«ä½¿ãˆã‚‹ã‚ˆã†ã«ã™ã‚‹ãŸã‚",
          "ãƒ‡ãƒ¼ã‚¿ã‚’ã‚½ãƒ¼ãƒˆã™ã‚‹ãŸã‚",
          "ã‚¨ãƒ©ãƒ¼ã‚’è¡¨ç¤ºã•ã›ã‚‹ãŸã‚"
        ],
        answer: 1,
        explanation: "std::cout ã‚’ cout ã¨æ›¸ã‘ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚"
      },

      {
        q: "ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã®å‡ºåŠ›ã¯ï¼Ÿ<pre>int a = 10;\nint b = 3;\ncout << a / b << endl;</pre>",
        options: [
          "3.333...",
          "3",
          "10",
          "ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹"
        ],
        answer: 1,
        explanation: "intåŒå£«ã®å‰²ã‚Šç®—ã¯æ•´æ•°ã«ãªã‚Šã¾ã™ã€‚10 Ã· 3 = 3."
      },

      {
        q: "ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã®å‡ºåŠ›ã¯ï¼Ÿ<pre>double x = 5.9;\nint y = (int)x;\ncout << y << endl;</pre>",
        options: [
          "6",
          "5",
          "5.9",
          "ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹"
        ],
        answer: 1,
        explanation: "(int)x ã¯å°æ•°ç‚¹ä»¥ä¸‹åˆ‡ã‚Šæ¨ã¦ â†’ 5."
      },

      {
        q: "ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã®å‡ºåŠ›ã¯ï¼Ÿ<pre>char c = 'A';\ncout << (int)c << endl;</pre>",
        options: [
          "A",
          "65",
          "ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹",
          "ä½•ã‚‚è¡¨ç¤ºã•ã‚Œãªã„"
        ],
        answer: 1,
        explanation: "'A' ã® ASCIIã‚³ãƒ¼ãƒ‰ã¯ 65 ã§ã‚ã‚‹ãŸã‚ã€<br>intå‹ã®Aã‚’å‡ºåŠ›ã™ã‚‹ã¨65ãŒå‡ºåŠ›ã•ã‚Œã‚‹ã€‚"
      },

      {
        q: "ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã®å‡ºåŠ›ã¯ï¼Ÿ<pre>int x = 66;\ncout << (char)x << endl;</pre>",
        options: [
          "A",
          "B",
          "ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹",
          "66"
        ],
        answer: 1,
        explanation: "66ç•ªç›®ã®ASCIIæ–‡å­—ã¯ Bã§ã‚ã‚‹ã€‚"
      },

      {
        q: "ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã®å‡ºåŠ›ã¯ï¼Ÿ<pre>bool b = true;\ncout << (int)b << endl;</pre>",
        options: [
          "0",
          "1",
          "true",
          "ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹"
        ],
        answer: 1,
        explanation: "true ã¯ 1ã€false ã¯ 0 ã«å¤‰æ›ã•ã‚Œã‚‹ã€‚"
      },

      {
        q: "ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã®å‡ºåŠ›ã¯ï¼Ÿ<pre>int x = 0;\nbool b = (bool)x;\ncout << b << endl;</pre>",
        options: [
          "0",
          "1",
          "false",
          "ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹"
        ],
        answer: 0,
        explanation: "0 ã¯ false æ‰±ã„ã€ã‚ˆã£ã¦ b = false<br>C++ã®coutã¯boolå‹ã‚’å‡ºåŠ›ã™ã‚‹ã¨ãã€trueã¯1ã€falseã¯0ã«å¤‰æ›ã—ã¦å‡ºåŠ›ã™ã‚‹ã€‚<br>ã‚‚ã—falseã¨å‡ºåŠ›ã—ãŸã„å ´åˆcout << boolalpha << b << endl;ã¨æ›¸ãã€‚"
      },

      {
        q: "ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã‚’å®Ÿè¡Œã—ãŸã¨ãã®å‡ºåŠ›ã¯ï¼Ÿ<pre>int a = 100000;\nint b = 100000;\nint c = a * b;\ncout << c << endl;</pre>",
        options: [
          "10000000000",
          "0",
          "ã‚ªãƒ¼ãƒãƒ¼ãƒ•ãƒ­ãƒ¼ã—ã¦ãŠã‹ã—ãªå€¤ã«ãªã‚‹",
          "ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹"
        ],
        answer: 2,
        explanation: "intã®ç¯„å›²ï¼ˆç´„2e9ï¼‰ã‚’è¶…ãˆã‚‹ã®ã§ã€ã‚ªãƒ¼ãƒãƒ¼ãƒ•ãƒ­ãƒ¼ã—ã¾ã™ã€‚"
      },

      {
        q: "ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã‚’å®Ÿè¡Œã—ãŸã¨ãã€ä½•ãŒèµ·ãã‚‹ï¼Ÿ<pre>vector&lt;int&gt; v = {1, 2, 3};\ncout << v[5] << endl;</pre>",
        options: [
          "3ã¨è¡¨ç¤ºã•ã‚Œã‚‹",
          "5ã¨è¡¨ç¤ºã•ã‚Œã‚‹",
          "å®Ÿè¡Œæ™‚ã‚¨ãƒ©ãƒ¼ or æœªå®šç¾©å‹•ä½œã«ãªã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹",
          "ã‚¨ãƒ©ãƒ¼ã§ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã§ããªã„"
        ],
        answer: 2,
        explanation: "å­˜åœ¨ã—ãªã„ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ â†’ æœªå®šç¾©å‹•ä½œ"
      },

      {
        q: "ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã®å‡ºåŠ›ã¯ï¼Ÿ<pre>int x;\ncout << x << endl;</pre>",
        options: [
          "0",
          "ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹",
          "ã‚´ãƒŸã¿ãŸã„ãªå¤‰ãªå€¤ãŒè¡¨ç¤ºã•ã‚Œã‚‹",
          "ä½•ã‚‚è¡¨ç¤ºã•ã‚Œãªã„"
        ],
        answer: 2,
        explanation: "ãƒ­ãƒ¼ã‚«ãƒ«å¤‰æ•°ã¯åˆæœŸåŒ–ã•ã‚Œãªã„ã®ã§ã€å¤‰ãªå€¤ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚"
      },

      {
    q: "æ¬¡ã®ã‚³ãƒ¼ãƒ‰ã‚’å®Ÿè¡Œã—ãŸã¨ãã®å‡ºåŠ›ã¯ï¼Ÿ<pre>char a = 'a';\nchar b = 'b';\ncout << (a == b) << endl;</pre>",
    options: [
      "0",
      "1",
      "true",
      "false"
    ],
    answer: 0,
    explanation: "charã‚„stringã«ã‚‚æ¼”ç®—å­ãŒä½¿ãˆã‚‹ã€‚<br>a ã¨ b ã¯ç•°ãªã‚‹æ–‡å­—ãªã®ã§æ¯”è¼ƒçµæœã¯ false (0) ã«ãªã‚‹ã€‚"
  },

  {
    q: "æ¬¡ã®ã‚³ãƒ¼ãƒ‰ã‚’å®Ÿè¡Œã—ãŸã¨ãã®å‡ºåŠ›ã¯ï¼Ÿ<pre>string str1 = &quot;Hello&quot;;\nstring str2 = &quot; World&quot;;\ncout << str1 + str2 << endl;</pre>",
    options: [
      "HelloWorld",
      "Hello World",
      "ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹",
      "Hello+World"
    ],
    answer: 1,
    explanation: "stringåŒå£«ã® + æ¼”ç®—å­ã§çµåˆã•ã‚Œã€çµæœã¯ 'Hello World' ã«ãªã‚‹ã€‚"
  }
    ];

    function shuffle(array) {
  for (let i = array.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [array[i], array[j]] = [array[j], array[i]];
  }
}


    let current = 0;
    let score = 0;
    let backClickCount = 0;

const backButtonHome = document.querySelector(".back-button");
if (backButtonHome) {
  backButtonHome.addEventListener("click", function(e) {
    e.preventDefault();
    if (backClickCount === 0) {
      alert("æœ¬å½“ã«æˆ»ã‚Šã¾ã™ã‹ï¼Ÿã‚‚ã†ä¸€åº¦ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨æˆ»ã‚Šã¾ã™ã€‚");
      backClickCount++;
    } else {
      window.location.href = "C++.html";
    }
  });
}



    const homeEl = document.getElementById("home");
    const quizEl = document.getElementById("quiz");

    function startQuiz() {
      const startButton = homeEl.querySelector("button");
      startButton.disabled = true;

      const seStart = document.getElementById('se-start');
      seStart.currentTime = 0;
      seStart.play();
      
      const countdownOverlay = document.getElementById('countdown-overlay');
      const countdownText = document.getElementById('countdown-text');
      
      countdownOverlay.style.display = 'flex';

      let count = 3;
      countdownText.textContent = count;

      const countdownTimer = setInterval(() => {
        count--;
        if (count > 0) {
          countdownText.textContent = count;
        } else {
          countdownText.textContent = 'START!';
        }
      }, 1000);

      setTimeout(() => {
        clearInterval(countdownTimer);
        countdownOverlay.style.display = 'none';

        if(bgmToggleBtn.textContent == "â–¶ï¸ BGMã‚’å†ç”Ÿ") {
          document.getElementById('bgm').play();
          bgmToggleBtn.textContent = 'â¸ï¸ BGMã‚’åœæ­¢';
        }
        shuffle(questions);
        current = 0;
        score = 0;
        homeEl.style.display = "none";
        quizEl.style.display = "block";
        showQuestion(current);
        startButton.disabled = false;
      }, 3500);
    }

    function showQuestion(index) {
      quizEl.innerHTML = "";
      const q = questions[index];

      const container = document.createElement("div");
      container.className = "question";

      const title = document.createElement("div");
      title.innerHTML = `<strong>Q${index + 1}:</strong> ${q.q}`;
      container.appendChild(title);

      const options = document.createElement("div");
      options.className = "options";

      q.options.forEach((opt, i) => {
        const label = document.createElement("label");
        const input = document.createElement("input");
        input.type = "radio";
        input.name = `q${index}`;
        input.value = i;
        label.appendChild(input);
        label.appendChild(document.createTextNode(" " + opt));
        options.appendChild(label);
      });

      container.appendChild(options);

      const button = document.createElement("button");
      button.textContent = "è§£ç­”";

      const result = document.createElement("div");
      result.className = "result";

      const explanation = document.createElement("div");
      explanation.className = "explanation";

      const backButton = document.createElement("a");
      backButton.href = "C++.html";
      backButton.className = "home-button";
      backButton.textContent = "å•é¡Œé¸æŠã«æˆ»ã‚‹";

      backButton.addEventListener("click", function(e) {
        e.preventDefault();
        if (backClickCount === 0) {
          alert("æœ¬å½“ã«æˆ»ã‚Šã¾ã™ã‹ï¼Ÿã‚‚ã†ä¸€åº¦ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨æˆ»ã‚Šã¾ã™ã€‚");
          backClickCount++;
        } else {
          window.location.href = "C++.html";
        }
      });

      const nextButton = document.createElement("button");
      nextButton.textContent = "æ¬¡ã¸";
      nextButton.style.display = "none";
      nextButton.style.margin = "20px auto";
      
      nextButton.onclick = () => {
    setTimeout(() => {
    current++;
    backClickCount = 0;
    if (current < questions.length) {
      showQuestion(current);
    } else {
    const seEnd = document.getElementById('se-end');
    seEnd.currentTime = 0;
    seEnd.play();
    backClickCount = 1;
    quizEl.innerHTML = "";
    const container = document.createElement("div");
    quizEl.innerHTML = `<h2>ãŠç–²ã‚Œæ§˜ã§ã—ãŸï¼å…¨${questions.length}å•ãŒçµ‚äº†ã—ã¾ã—ãŸã€‚<br><br>${score}å•æ­£è§£ã—ã¾ã—ãŸï¼</h2>`;
    const today = new Date().toLocaleString();
    const newRecord = { date: today, score: score };

    let ranking = JSON.parse(localStorage.getItem(RANKING_KEY) || "[]");
    ranking.push(newRecord);

    ranking.sort((a, b) => b.score - a.score);
    ranking = ranking.slice(0, 5);

    localStorage.setItem(RANKING_KEY, JSON.stringify(ranking));

    const rankingList = document.createElement("div");
    rankingList.innerHTML = "<h3>ğŸ†æ­£è§£æ•°ãƒ©ãƒ³ã‚­ãƒ³ã‚°(ãƒ­ãƒ¼ã‚«ãƒ«)</h3>";

    ranking.forEach((r, i) => {
      rankingList.innerHTML += `${i + 1}ä½: ${r.score}ç‚¹ï¼ˆ${r.date}ï¼‰<br>`;
    });

    const retryBtn = document.createElement("button");
    retryBtn.textContent = "æœ€åˆã‹ã‚‰ã‚„ã‚Šç›´ã™";
    retryBtn.onclick = () => {
    startQuiz();
  };

          let resetClickCount = 0;

          const resetBtn = document.createElement("button");
          resetBtn.textContent = "ãƒ©ãƒ³ã‚­ãƒ³ã‚°ã‚’ãƒªã‚»ãƒƒãƒˆ";
          resetBtn.onclick = () => {
            if (resetClickCount === 0) {
              alert("æœ¬å½“ã«ãƒªã‚»ãƒƒãƒˆã—ã¾ã™ã‹ï¼Ÿã‚‚ã†ä¸€åº¦ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ãƒªã‚»ãƒƒãƒˆã•ã‚Œã¾ã™ã€‚");
              resetClickCount++;
            } else {
              localStorage.removeItem(RANKING_KEY);
              location.reload();
            }
          };
      quizEl.appendChild(backButton);
      container.appendChild(retryBtn);
      container.appendChild(rankingList);
      container.appendChild(resetBtn);
      quizEl.appendChild(container);
    }
  }, 100);
};




      const nextButtonWrapper = document.createElement("div");
      nextButtonWrapper.style.textAlign = "center";
      nextButtonWrapper.appendChild(nextButton);

      button.onclick = () => {
        const selected = container.querySelector("input:checked");
        if (!selected) {
          result.textContent = "é¸æŠè‚¢ã‚’é¸ã‚“ã§ãã ã•ã„ã€‚";
          result.style.color = "black";
          return;
        }
        const isCorrect = parseInt(selected.value) === q.answer;

        const seCorrect = document.getElementById("se-correct");
        const seWrong = document.getElementById("se-wrong");

        if (isCorrect) {
          result.classList.add("correct");
          score++;
          seCorrect.currentTime = 0;
          seCorrect.play();
        } else {
          result.classList.add("wrong");
          seWrong.currentTime = 0;
          seWrong.play();
        }

        result.textContent = isCorrect ? "â—‹ æ­£è§£ã§ã™ï¼" : `Ã— ä¸æ­£è§£ã§ã™ã€‚æ­£è§£ï¼š${q.options[q.answer]}`;
        result.style.color = isCorrect ? "green" : "red";
        explanation.innerHTML = q.explanation;


        const labels = container.querySelectorAll("label");
        labels.forEach(label => label.classList.add("disabled"));

        button.style.display = "none";
        nextButton.style.display = "inline-block";
      };

      container.appendChild(button);
      container.appendChild(result);
      container.appendChild(explanation);
      container.appendChild(nextButtonWrapper);
      container.appendChild(backButton);

      quizEl.appendChild(container);
    }

  const bgm = document.getElementById('bgm');
  const bgmToggleBtn = document.getElementById('bgm-toggle');

  bgmToggleBtn.addEventListener('click', () => {
    if (!bgm.paused) {
      bgm.pause();
      bgmToggleBtn.textContent = 'â–¶ï¸ BGMã‚’å†é–‹';
    } else {
      bgm.play();
      bgmToggleBtn.textContent = 'â¸ï¸ BGMã‚’åœæ­¢';
  }
});

  </script>
</body>
</html>