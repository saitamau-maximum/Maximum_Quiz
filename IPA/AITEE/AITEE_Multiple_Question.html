<!DOCTYPE html>
<html lang="ja">
  <link rel="icon" href="https://avatars.githubusercontent.com/u/120705481?s=48&v=4" type="image/x-icon">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>å¿œç”¨æƒ…å ±åŸºç¤æŠ€è¡“è€…è©¦é¨“ã®å››æŠå•é¡Œ</title>
  <link rel="stylesheet" href="../../keep_out/selectQuestion.css">
  <style>
    .options label.disabled {
      pointer-events: none;
      color: #000;
    }
  </style>
  <audio id="se-correct" src="../../keep_out/correct.mp3" preload="auto"></audio>
  <audio id="se-wrong" src="../../keep_out/wrong.mp3" preload="auto"></audio>
  <audio id="se-start" src="../../keep_out/start.mp3" preload="auto"></audio>
  <audio id="se-end" src="../../keep_out/end.mp3" preload="auto"></audio>
</head>
<body>
  <audio id="bgm" src="../../keep_out/BGM.mp3" loop></audio>
  <button id="bgm-toggle">â–¶ï¸ BGMã‚’å†ç”Ÿ</button>
  <div class="quiz-container" id="home">
    <h1>å¿œç”¨æƒ…å ±åŸºç¤æŠ€è¡“è€…è©¦é¨“ã®å››æŠå•é¡Œ</h1>
    <p id="question-count">å•é¡Œæ•°ã‚’è¡¨ç¤º(å¤‰æ›´ä¸è¦)</p>
    <button onclick="startQuiz()">é–‹å§‹</button>
    <a href="AITEE.html" class="back-button">å•é¡Œé¸æŠã«æˆ»ã‚‹</a>
  </div>

  <div class="quiz-container" id="quiz" style="display: none;"></div>
  <div id="countdown-overlay" class="countdown-overlay">
  <div id="countdown-text" class="countdown-text"></div>
  </div>
  <script>
    const RANKING_KEY = "AITEE";
    const questions = [
      //ç´¢å¼•æœªä½œæˆ
  {
    q: "OSIå‚ç…§ãƒ¢ãƒ‡ãƒ«ã®ç¬¬3å±¤ã¯ã©ã‚Œï¼Ÿ",
    options: [
      "ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯å±¤",
      "ãƒˆãƒ©ãƒ³ã‚¹ãƒãƒ¼ãƒˆå±¤",
      "ãƒ‡ãƒ¼ã‚¿ãƒªãƒ³ã‚¯å±¤",
      "ã‚»ãƒƒã‚·ãƒ§ãƒ³å±¤"
    ],
    answer: 0,
    explanation: "ç¬¬3å±¤ã¯ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯å±¤ã§ã™ã€‚IPã‚¢ãƒ‰ãƒ¬ã‚¹ãªã©ã®è«–ç†ã‚¢ãƒ‰ãƒ¬ã‚¹ã«ã‚ˆã‚‹é€šä¿¡ã‚’æ‹…å½“ã—ã¾ã™ã€‚"
  },
  {
    q: "ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®æ­£è¦åŒ–ã®ç›®çš„ã¯ï¼Ÿ",
    options: [
      "ãƒ‡ãƒ¼ã‚¿ã®å†—é•·æ€§ã‚’æ¸›ã‚‰ã™ãŸã‚",
      "æ¤œç´¢é€Ÿåº¦ã‚’é…ãã™ã‚‹ãŸã‚",
      "ãƒ‡ãƒ¼ã‚¿ã‚’æš—å·åŒ–ã™ã‚‹ãŸã‚",
      "ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’å–ã‚‹ãŸã‚"
    ],
    answer: 0,
    explanation: "æ­£è¦åŒ–ã¯ãƒ‡ãƒ¼ã‚¿ã®å†—é•·æ€§ã‚’æ¸›ã‚‰ã—ã€æ•´åˆæ€§ã‚’ä¿ã¤ãŸã‚ã«è¡Œã„ã¾ã™ã€‚"
  },
  {
    q: "ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢é–‹ç™ºãƒ¢ãƒ‡ãƒ«ã®ã†ã¡ã€ã‚¦ã‚©ãƒ¼ã‚¿ãƒ¼ãƒ•ã‚©ãƒ¼ãƒ«ãƒ¢ãƒ‡ãƒ«ã®ç‰¹å¾´ã¯ï¼Ÿ",
    options: [
      "å·¥ç¨‹ã”ã¨ã«é †ç•ªã«é€²ã‚ã‚‹",
      "åå¾©çš„ã«é–‹ç™ºã™ã‚‹",
      "ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—ã‚’ä½œæˆã™ã‚‹",
      "ã‚¢ã‚¸ãƒ£ã‚¤ãƒ«ã«å¯¾å¿œã™ã‚‹"
    ],
    answer: 0,
    explanation: "ã‚¦ã‚©ãƒ¼ã‚¿ãƒ¼ãƒ•ã‚©ãƒ¼ãƒ«ãƒ¢ãƒ‡ãƒ«ã¯å„å·¥ç¨‹ã‚’é †ç•ªã«é€²ã‚ã‚‹é–‹ç™ºæ‰‹æ³•ã§ã™ã€‚"
  },
  {
    q: "å…¬é–‹éµæš—å·æ–¹å¼ã®ç‰¹å¾´ã¯ã©ã‚Œï¼Ÿ",
    options: [
      "æš—å·åŒ–ã¨å¾©å·ã«ç•°ãªã‚‹éµã‚’ä½¿ã†",
      "åŒã˜éµã§æš—å·åŒ–ã¨å¾©å·ã‚’è¡Œã†",
      "éµã‚’å…¬é–‹ã—ãªã„",
      "æš—å·åŒ–ã§ããªã„"
    ],
    answer: 0,
    explanation: "å…¬é–‹éµæš—å·æ–¹å¼ã¯æš—å·åŒ–ã¨å¾©å·ã«ç•°ãªã‚‹éµï¼ˆå…¬é–‹éµã¨ç§˜å¯†éµï¼‰ã‚’ä½¿ã„ã¾ã™ã€‚"
  },
  {
    q: "CPUã®ã‚¯ãƒ­ãƒƒã‚¯å‘¨æ³¢æ•°ãŒé«˜ã„ã¨ã©ã†ãªã‚‹ï¼Ÿ",
    options: [
      "å‡¦ç†é€Ÿåº¦ãŒé€Ÿããªã‚‹å‚¾å‘ãŒã‚ã‚‹",
      "æ¶ˆè²»é›»åŠ›ãŒæ¸›ã‚‹",
      "ãƒ¡ãƒ¢ãƒªå®¹é‡ãŒå¢—ãˆã‚‹",
      "ãƒ‡ã‚£ã‚¹ã‚¯å®¹é‡ãŒå¢—ãˆã‚‹"
    ],
    answer: 0,
    explanation: "ã‚¯ãƒ­ãƒƒã‚¯å‘¨æ³¢æ•°ãŒé«˜ã„ã»ã©ã€1ç§’é–“ã«å¤šãã®å‘½ä»¤ã‚’å‡¦ç†ã§ãã¾ã™ã€‚"
  },
  {
    q: "DRAMã®ç‰¹å¾´ã¯ã©ã‚Œï¼Ÿ",
    options: [
      "ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ãŒå¿…è¦",
      "ä¸æ®ç™ºæ€§ã§ã‚ã‚‹",
      "é«˜é€Ÿã ãŒé«˜ä¾¡",
      "ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ¡ãƒ¢ãƒªã¨ã—ã¦ä½¿ã‚ã‚Œã‚‹"
    ],
    answer: 0,
    explanation: "DRAMã¯ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ãŒå¿…è¦ãªæ®ç™ºæ€§ãƒ¡ãƒ¢ãƒªã§ã™ã€‚"
  },
  {
    q: "TCPã¨UDPã®é•ã„ã¯ï¼Ÿ",
    options: [
      "TCPã¯ä¿¡é ¼æ€§ãŒé«˜ãã€UDPã¯é«˜é€Ÿã ãŒä¿¡é ¼æ€§ãŒä½ã„",
      "TCPã¯é«˜é€Ÿã€UDPã¯ä¿¡é ¼æ€§ãŒé«˜ã„",
      "ã©ã¡ã‚‰ã‚‚ä¿¡é ¼æ€§ãŒé«˜ã„",
      "ã©ã¡ã‚‰ã‚‚ã‚³ãƒã‚¯ã‚·ãƒ§ãƒ³ãƒ¬ã‚¹"
    ],
    answer: 0,
    explanation: "TCPã¯ä¿¡é ¼æ€§é‡è¦–ã€UDPã¯é€Ÿåº¦é‡è¦–ã®ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã§ã™ã€‚"
  },
  {
    q: "SQLã§ãƒ‡ãƒ¼ã‚¿ã‚’æ¤œç´¢ã™ã‚‹å‘½ä»¤ã¯ã©ã‚Œï¼Ÿ",
    options: [
      "SELECT",
      "INSERT",
      "UPDATE",
      "DELETE"
    ],
    answer: 0,
    explanation: "SELECTæ–‡ã¯ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’æ¤œç´¢ã™ã‚‹ãŸã‚ã«ä½¿ã„ã¾ã™ã€‚"
  },
  {
    q: "ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã§ä½¿ã‚ã‚Œã‚‹ã‚¬ãƒ³ãƒˆãƒãƒ£ãƒ¼ãƒˆã®ç›®çš„ã¯ï¼Ÿ",
    options: [
      "ä½œæ¥­å·¥ç¨‹ã‚„é€²æ—ã‚’å¯è¦–åŒ–ã™ã‚‹",
      "ã‚³ã‚¹ãƒˆã‚’è¨ˆç®—ã™ã‚‹",
      "å“è³ªã‚’ä¿è¨¼ã™ã‚‹",
      "ãƒªã‚¹ã‚¯ã‚’åˆ†æã™ã‚‹"
    ],
    answer: 0,
    explanation: "ã‚¬ãƒ³ãƒˆãƒãƒ£ãƒ¼ãƒˆã¯ä½œæ¥­å·¥ç¨‹ã‚„é€²æ—ã‚’è¦–è¦šçš„ã«ç®¡ç†ã™ã‚‹ãŸã‚ã®å›³ã§ã™ã€‚"
  },
  {
    q: "æƒ…å ±ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã®3è¦ç´ ã§ãªã„ã‚‚ã®ã¯ã©ã‚Œï¼Ÿ",
    options: [
      "åŠ¹ç‡æ€§",
      "æ©Ÿå¯†æ€§",
      "å®Œå…¨æ€§",
      "å¯ç”¨æ€§"
    ],
    answer: 0,
    explanation: "æƒ…å ±ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã®3è¦ç´ ã¯æ©Ÿå¯†æ€§ãƒ»å®Œå…¨æ€§ãƒ»å¯ç”¨æ€§ã§ã™ã€‚"
  }
];  

    document.addEventListener("DOMContentLoaded", () => {
    const questionCountElement = document.getElementById("question-count");
    if (questionCountElement) {
      questionCountElement.textContent = `å…¨10å•ã§ã™ã€‚`;
    }
  });

    function shuffle(array) {
  for (let i = array.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [array[i], array[j]] = [array[j], array[i]];
  }
}


    function escapeHTMLExceptBR(str) {
  return str
    .replace(/&/g, "&amp;")
    .replace(/</g, "&lt;")
    .replace(/>/g, "&gt;")
    .replace(/&lt;br&gt;/g, "<br>")
    .replace(/&lt;pre&gt;/g, "<pre>")
    .replace(/&lt;\/pre&gt;/g, "</pre>");
}

    let current = 0;
    let score = 0;
    let backClickCount = 0;

const backButtonHome = document.querySelector(".back-button");
if (backButtonHome) {
  backButtonHome.addEventListener("click", function(e) {
    e.preventDefault();
    if (backClickCount === 0) {
      alert("æœ¬å½“ã«æˆ»ã‚Šã¾ã™ã‹ï¼Ÿã‚‚ã†ä¸€åº¦ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨æˆ»ã‚Šã¾ã™ã€‚");
      backClickCount++;
    } else {
      window.location.href = "AITEE.html";
    }
  });
}

    const homeEl = document.getElementById("home");
    const quizEl = document.getElementById("quiz");

    function startQuiz() {
      const startButton = homeEl.querySelector("button");
      startButton.disabled = true;

      const seStart = document.getElementById('se-start');
      seStart.currentTime = 0;
      seStart.play();
      
      const countdownOverlay = document.getElementById('countdown-overlay');
      const countdownText = document.getElementById('countdown-text');
      
      countdownOverlay.style.display = 'flex';

      let count = 3;
      countdownText.textContent = count;

      const countdownTimer = setInterval(() => {
        count--;
        if (count > 0) {
          countdownText.textContent = count;
        } else {
          countdownText.textContent = 'START!';
        }
      }, 1000);

      setTimeout(() => {
        clearInterval(countdownTimer);
        countdownOverlay.style.display = 'none';

        if(bgmToggleBtn.textContent == "â–¶ï¸ BGMã‚’å†ç”Ÿ") {
          document.getElementById('bgm').play();
          bgmToggleBtn.textContent = 'â¸ï¸ BGMã‚’åœæ­¢';
        }
        shuffle(questions);
        questions = questions.slice(0, 10);
        current = 0;
        score = 0;
        homeEl.style.display = "none";
        quizEl.style.display = "block";
        showQuestion(current);
        startButton.disabled = false;
      }, 3500);
    }

    function showQuestion(index) {
      quizEl.innerHTML = "";
      const q = questions[index];

      const container = document.createElement("div");
      container.className = "question";

      const title = document.createElement("div");
      title.innerHTML = `<strong>Q${index + 1}:</strong> ${escapeHTMLExceptBR(q.q)}`;

      container.appendChild(title);

      const options = document.createElement("div");
      options.className = "options";

      q.options.forEach((opt, i) => {
        const label = document.createElement("label");
        const input = document.createElement("input");
        input.type = "radio";
        input.name = `q${index}`;
        input.value = i;
        label.appendChild(input);
        label.appendChild(document.createTextNode(" " + opt));
        options.appendChild(label);
      });

      container.appendChild(options);

      const button = document.createElement("button");
      button.textContent = "è§£ç­”";

      const result = document.createElement("div");
      result.className = "result";

      const explanation = document.createElement("div");
      explanation.className = "explanation";

      const backButton = document.createElement("a");
      backButton.href = "AITEE.html";
      backButton.className = "home-button";
      backButton.textContent = "å•é¡Œé¸æŠã«æˆ»ã‚‹";

      backButton.addEventListener("click", function(e) {
        e.preventDefault();
        if (backClickCount === 0) {
          alert("æœ¬å½“ã«æˆ»ã‚Šã¾ã™ã‹ï¼Ÿã‚‚ã†ä¸€åº¦ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨æˆ»ã‚Šã¾ã™ã€‚");
          backClickCount++;
        } else {
          window.location.href = "AITEE.html";
        }
      });

      const nextButton = document.createElement("button");
      nextButton.textContent = "æ¬¡ã¸";
      nextButton.style.display = "none";
      nextButton.style.margin = "20px auto";
      
      nextButton.onclick = () => {
    setTimeout(() => {
    current++;
    backClickCount = 0;
    if (current < questions.length) {
      showQuestion(current);
    } else {
          const seEnd = document.getElementById('se-end');
          seEnd.currentTime = 0;
          seEnd.play();
          backClickCount = 1;
          quizEl.innerHTML = "";
          const container = document.createElement("div");
          quizEl.innerHTML = `<h2>ãŠç–²ã‚Œæ§˜ã§ã—ãŸï¼å…¨${questions.length}å•ãŒçµ‚äº†ã—ã¾ã—ãŸã€‚<br><br>${score}å•æ­£è§£ã—ã¾ã—ãŸï¼</h2>`;
          const today = new Date().toLocaleString();
          const newRecord = { date: today, score: score };

          let ranking = JSON.parse(localStorage.getItem(RANKING_KEY) || "[]");
          ranking.push(newRecord);

          ranking.sort((a, b) => b.score - a.score);
          ranking = ranking.slice(0, 5);

          localStorage.setItem(RANKING_KEY, JSON.stringify(ranking));

          const rankingList = document.createElement("div");
          rankingList.innerHTML = "<h3>ğŸ†æ­£è§£æ•°ãƒ©ãƒ³ã‚­ãƒ³ã‚°(ãƒ­ãƒ¼ã‚«ãƒ«)</h3>";

          ranking.forEach((r, i) => {
            rankingList.innerHTML += `${i + 1}ä½: ${r.score}ç‚¹ï¼ˆ${r.date}ï¼‰<br>`;
          });

          const retryBtn = document.createElement("button");
          retryBtn.textContent = "æœ€åˆã‹ã‚‰ã‚„ã‚Šç›´ã™";
          retryBtn.onclick = () => {
          startQuiz();
        };

          let resetClickCount = 0;

          const resetBtn = document.createElement("button");
          resetBtn.textContent = "ãƒ©ãƒ³ã‚­ãƒ³ã‚°ã‚’ãƒªã‚»ãƒƒãƒˆ";
          resetBtn.onclick = () => {
            if (resetClickCount === 0) {
              alert("æœ¬å½“ã«ãƒªã‚»ãƒƒãƒˆã—ã¾ã™ã‹ï¼Ÿã‚‚ã†ä¸€åº¦ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ãƒªã‚»ãƒƒãƒˆã•ã‚Œã¾ã™ã€‚");
              resetClickCount++;
            } else {
              localStorage.removeItem(RANKING_KEY);
              location.reload();
            }
          };
      quizEl.appendChild(backButton);
      container.appendChild(retryBtn);
      container.appendChild(rankingList);
      container.appendChild(resetBtn);
      quizEl.appendChild(container);
    }
  }, 100);
};


      const nextButtonWrapper = document.createElement("div");
      nextButtonWrapper.style.textAlign = "center";
      nextButtonWrapper.appendChild(nextButton);

      button.onclick = () => {
        const selected = container.querySelector("input:checked");
        if (!selected) {
          result.textContent = "é¸æŠè‚¢ã‚’é¸ã‚“ã§ãã ã•ã„ã€‚";
          result.style.color = "black";
          return;
        }

        const isCorrect = parseInt(selected.value) === q.answer;
        const seCorrect = document.getElementById("se-correct");
        const seWrong = document.getElementById("se-wrong");

        if (isCorrect) {
          result.classList.add("correct");
          score++;
          seCorrect.currentTime = 0;
          seCorrect.play();
        } else {
          result.classList.add("wrong");
          seWrong.currentTime = 0;
          seWrong.play();
        }
        
        result.textContent = isCorrect ? "â—‹ æ­£è§£ã§ã™ï¼" : `Ã— ä¸æ­£è§£ã§ã™ã€‚æ­£è§£ï¼š${q.options[q.answer]}`;
        result.style.color = isCorrect ? "green" : "red";
        explanation.innerHTML = escapeHTMLExceptBR(q.explanation);

        const labels = container.querySelectorAll("label");
        labels.forEach(label => label.classList.add("disabled"));

        button.style.display = "none";
        nextButton.style.display = "inline-block";
      };

      container.appendChild(button);
      container.appendChild(result);
      container.appendChild(explanation);
      container.appendChild(nextButtonWrapper);
      container.appendChild(backButton);

      quizEl.appendChild(container);
    }

  const bgm = document.getElementById('bgm');
  const bgmToggleBtn = document.getElementById('bgm-toggle');

  bgmToggleBtn.addEventListener('click', () => {
    if (!bgm.paused) {
      bgm.pause();
      bgmToggleBtn.textContent = 'â–¶ï¸ BGMã‚’å†é–‹';
    } else {
      bgm.play();
      bgmToggleBtn.textContent = 'â¸ï¸ BGMã‚’åœæ­¢';
  }
});
 
  </script>
</body>
</html>
